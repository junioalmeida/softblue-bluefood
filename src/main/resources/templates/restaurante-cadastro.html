<!DOCTYPE html>
<html
	lang="pt-br"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout}">

	<body>
		<div layout:fragment="content">
			<div>
				<h1>Cadastro de Restaurante</h1>	
				
				<div id="success-message" th:if="${msg} != null">
					<span th:text="${msg}"></span>
				</div>
	
				<br/>
	
				<div>
					<form method="POST" th:object="${restaurant}" th:action="${!isEditMode} ? @{/public/restaurant/save} : @{/restaurant/save}" enctype="multipart/form-data">
						<fieldset>
						
							<input type="hidden" th:field="*{id}"/>
						
							<label for="name">Nome do Restaurante:</label>
							<br/><input type="text" id="name" name="name" placeholder="Nome..." th:field="*{name}" th:classappend="${#fields.hasErrors('name')} ? 'input-error' : ''"/>	
							<br/><br/>
		
							<div id="error-message" th:if="${#fields.hasErrors('name')}">
								<span th:errors="*{name}"></span>
							</div>
	
							<label for="cnpj">CNPJ:</label>
							<br/><input type="text" id="cnpj" name="cpnj" placeholder="CNPJ..." th:field="*{cnpj}" th:classappend="${#fields.hasErrors('cnpj')} ? 'input-error' : ''"/>	
							<br/><br/>
							
							<div id="error-message" th:if="${#fields.hasErrors('cnpj')}">
								<span th:errors="*{cnpj}"></span>
							</div>							
	
							<label for="email">E-mail:</label>
							<br/><input type="text" id="email" name="email" placeholder="E-mail..." th:field="*{email}" th:classappend="${#fields.hasErrors('email')} ? 'input-error' : ''"/>	
							<br/><br/>

							<div id="error-message" th:if="${#fields.hasErrors('email')}">
								<span th:errors="*{email}"></span>
							</div>
	
							<label for="phone">Telefone:</label>
							<br/><input type="text" id="phone" name="phone" placeholder="Telefone..." th:field="*{phone}" th:classappend="${#fields.hasErrors('phone')} ? 'input-error' : ''"/>	
							<br/><br/>

							<div id="error-message" th:if="${#fields.hasErrors('phone')}">
								<span th:errors="*{phone}"></span>
							</div>
								
							<label for="deliveryRate">Taxa base de entrega:</label>
							<br/><input type="text" id="deliveryRate" name="deliveryRate" placeholder="Taxa..." th:field="*{deliveryRate}" th:classappend="${#fields.hasErrors('deliveryRate')} ? 'input-error' : ''"/>	
							<br/><br/>

							<div id="error-message" th:if="${#fields.hasErrors('deliveryRate')}">
								<span th:errors="*{deliveryRate}"></span>
							</div>
							
							<label for="baseDeliveryTime">Tempo de entrega (min.):</label>
							<br/><input type="text" id="baseDeliveryTime" name="baseDeliveryTime" placeholder="Tempo..." th:field="*{baseDeliveryTime}" th:classappend="${#fields.hasErrors('baseDeliveryTime')} ? 'input-error' : ''"/>	
							<br/><br/>

							<div id="error-message" th:if="${#fields.hasErrors('baseDeliveryTime')}">
								<span th:errors="*{baseDeliveryTime}"></span>
							</div>
							
							<label for="categories">Categoria de comida:</label>
							<br/>
							<select id="categories" name="categories" multiple="multiple" th:field="*{categories}">
								<option th:each="category : ${categories}" th:value="${category.id}" th:text="${category.name}">Salada</option>	
							</select>	
							<br/><br/>
							
							<div id="error-message" th:if="${#fields.hasErrors('categories')}">
								<span th:errors="*{categories}"></span>
							</div>
							
							<div th:if="${!isEditMode}">
								<label for="logotipoFile">Logotipo:</label>
								<br/><input type="file" id="logotipoFile" name="logotipoFile" th:field="*{logotipoFile}" th:classappend="${#fields.hasErrors('logotipoFile')} ? 'input-error' : ''"/>	
								<br/><br/>
								
								<div id="error-message" th:if="${#fields.hasErrors('logotipoFile')}">
									<span th:errors="*{logotipoFile}"></span>
								</div>
							
								<label for="password">Senha:</label>
								<br/><input type="password" id="password" name="password" placeholder="Senha..." th:classappend="${#fields.hasErrors('password')} ? 'input-error' : ''"/>	
								<br/><br/>
		
								<div id="error-message" th:if="${#fields.hasErrors('password')}">
									<span th:errors="*{password}"></span>
								</div>
							</div>
							
							<input type="hidden" value="*" name="password" th:if="${isEditMode}"/>
	
							<br/>
							
							<input type="submit" th:value="${!isEditMode} ? Cadastrar : Alterar"/>
						</fieldset>
					</form>
				</div>
	
				<br/>
				
				<input type="button" value="Voltar" th:onClick="'location.href=\'' + @{/restaurant/home} + '\';'"/>
			</div>
		</div>
	</body>
</html>